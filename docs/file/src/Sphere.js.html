<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/Sphere.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/vanruesc/math-ds.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Box2.js~Box2.html">Box2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Box3.js~Box3.html">Box3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Cylindrical.js~Cylindrical.html">Cylindrical</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Euler.js~Euler.html">Euler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Line3.js~Line3.html">Line3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Matrix3.js~Matrix3.html">Matrix3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Matrix4.js~Matrix4.html">Matrix4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Plane.js~Plane.html">Plane</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Quaternion.js~Quaternion.html">Quaternion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Ray.js~Ray.html">Ray</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Sphere.js~Sphere.html">Sphere</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Spherical.js~Spherical.html">Spherical</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/SymmetricMatrix3.js~SymmetricMatrix3.html">SymmetricMatrix3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Vector2.js~Vector2.html">Vector2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Vector3.js~Vector3.html">Vector3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Vector4.js~Vector4.html">Vector4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RotationOrder">RotationOrder</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Sphere.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import { Box3 } from &quot;./Box3.js&quot;;
import { Vector3 } from &quot;./Vector3.js&quot;;

/**
 * A box.
 *
 * @type {Box3}
 * @private
 */

const box = new Box3();

/**
 * A sphere.
 */

export class Sphere {

	/**
	 * Constructs a new sphere.
	 *
	 * @param {Vector3} [center] - The center.
	 * @param {Number} [radius] - The radius.
	 */

	constructor(center = new Vector3(), radius = 0) {

		/**
		 * The center.
		 *
		 * @type {Vector3}
		 */

		this.center = center;

		/**
		 * The radius.
		 *
		 * @type {Number}
		 */

		this.radius = radius;

	}

	/**
	 * Sets the center and the radius.
	 *
	 * @param {Vector3} center - The center.
	 * @param {Number} radius - The radius.
	 * @return {Sphere} This sphere.
	 */

	set(center, radius) {

		this.center.copy(center);
		this.radius = radius;

		return this;

	}

	/**
	 * Copies the given sphere.
	 *
	 * @param {Sphere} s - A sphere.
	 * @return {Sphere} This sphere.
	 */

	copy(s) {

		this.center.copy(s.center);
		this.radius = s.radius;

		return this;

	}

	/**
	 * Clones this sphere.
	 *
	 * @return {Sphere} The cloned sphere.
	 */

	clone() {

		return new this.constructor().copy(this);

	}

	/**
	 * Sets this sphere from points.
	 *
	 * @param {Vector3[]} points - The points.
	 * @param {Vector3} [center] - An optional center.
	 * @return {Sphere} This sphere.
	 */

	setFromPoints(points, center = box.setFromPoints(points).getCenter(this.center)) {

		let maxRadiusSq = 0;
		let i, l;

		for(i = 0, l = points.length; i &lt; l; ++i) {

			maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));

		}

		this.radius = Math.sqrt(maxRadiusSq);

		return this;

	}

	/**
	 * Calculates the bounding box of this sphere.
	 *
	 * @param {Box3} [target] - A target sphere. If none is provided, a new one will be created.
	 * @return {Box3} The bounding box.
	 */

	getBoundingBox(target = new Box3()) {

		target.set(this.center, this.center);
		target.expandByScalar(this.radius);

		return target;

	}

	/**
	 * Checks if this sphere is empty.
	 *
	 * @return {Boolean} Whether this sphere is empty.
	 */

	isEmpty() {

		return (this.radius &lt;= 0);

	}

	/**
	 * Translates this sphere.
	 *
	 * @param {Number} offset - An offset.
	 * @return {Sphere} This sphere.
	 */

	translate(offset) {

		this.center.add(offset);

		return this;

	}

	/**
	 * Clamps the given point to this sphere.
	 *
	 * @param {Vector3} p - A point.
	 * @param {Vector3} [target] - A target vector. If none is provided, a new one will be created.
	 * @return {Vector3} The clamped point.
	 */

	clampPoint(p, target = new Vector3()) {

		const deltaLengthSq = this.center.distanceToSquared(p);

		target.copy(p);

		if(deltaLengthSq &gt; (this.radius * this.radius)) {

			target.sub(this.center).normalize();
			target.multiplyScalar(this.radius).add(this.center);

		}

		return target;

	}

	/**
	 * Calculates the distance from this sphere to the given point.
	 *
	 * @param {Vector3} p - A point.
	 * @return {Number} The distance.
	 */

	distanceToPoint(p) {

		return (p.distanceTo(this.center) - this.radius);

	}

	/**
	 * Checks if the given point lies inside this sphere.
	 *
	 * @param {Vector3} p - A point.
	 * @return {Boolean} Whether this sphere contains the point.
	 */

	containsPoint(p) {

		return (p.distanceToSquared(this.center) &lt;= (this.radius * this.radius));

	}

	/**
	 * Checks if the this sphere intersects with the given one.
	 *
	 * @param {Sphere} s - A sphere.
	 * @return {Boolean} Whether this sphere intersects with the given one.
	 */

	intersectsSphere(s) {

		const radiusSum = this.radius + s.radius;

		return s.center.distanceToSquared(this.center) &lt;= (radiusSum * radiusSum);

	}

	/**
	 * Checks if the this sphere intersects with the given box.
	 *
	 * @param {Box3} b - A box.
	 * @return {Boolean} Whether this sphere intersects with the given box.
	 */

	intersectsBox(b) {

		return b.intersectsSphere(this);

	}

	/**
	 * Checks if the this sphere intersects with the given plane.
	 *
	 * @param {Plane} p - A plane.
	 * @return {Boolean} Whether this sphere intersects with the given plane.
	 */

	intersectsPlane(p) {

		return (Math.abs(p.distanceToPoint(this.center)) &lt;= this.radius);

	}

	/**
	 * Checks if this sphere equals the given one.
	 *
	 * @param {Sphere} s - A sphere.
	 * @return {Boolean} Whether the spheres are equal.
	 */

	equals(s) {

		return (s.center.equals(this.center) &amp;&amp; (s.radius === this.radius));

	}

}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
